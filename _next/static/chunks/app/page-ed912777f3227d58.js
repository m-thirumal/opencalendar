(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{473:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var l=n(5155),a=n(2115),s=n(6385),i=n(2411),r=n(7081),d=n(560),o=n.n(d),c=n(9233),u=n(3022);function h(e){let{currentView:t,setView:n,downloadICS:a}=e;return(0,l.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,l.jsx)("button",{onClick:a,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Download ICS"}),(0,l.jsx)("button",{onClick:()=>n("year"),className:"px-3 py-1 border rounded ".concat("year"===t?"bg-gray-200":""),children:"Year"}),(0,l.jsx)("button",{onClick:()=>n("month"),className:"px-3 py-1 border rounded ".concat("month"===t?"bg-gray-200":""),children:"Month"}),(0,l.jsx)("button",{onClick:()=>n("day"),className:"px-3 py-1 border rounded ".concat("day"===t?"bg-gray-200":""),children:"Day"})]})}function b(e){let{year:t,events:n=[],handleDateClick:a,handleEventClick:d,onMonthClick:o}=e,c=n.filter(e=>e.start instanceof Date);return(0,l.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[...Array(12)].map((e,n)=>(0,l.jsxs)("div",{className:"border rounded p-2 cursor-pointer hover:bg-gray-100",onClick:()=>o&&o(n),children:[(0,l.jsx)("h3",{className:"text-center font-semibold mb-2",children:new Date(0,n).toLocaleString("default",{month:"long"})}),(0,l.jsx)(s.A,{plugins:[i.A,r.Ay],initialView:"dayGridMonth",initialDate:new Date(t,n,1),editable:!0,selectable:!0,events:c,dateClick:a,eventClick:d,eventContent:e=>(0,l.jsx)(u.Ay,{content:e.event.title,children:(0,l.jsx)("div",{className:"cursor-pointer text-sm truncate",children:e.event.title})}),height:"auto",headerToolbar:!1})]},n))})}function x(e){let{selectedDate:t,onDateClick:n,onEventClick:a,events:d,setSelectedDate:o}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("button",{onClick:()=>o(new Date(t.getFullYear(),t.getMonth()-1,1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:"<"}),(0,l.jsx)("span",{className:"font-semibold",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),(0,l.jsx)("button",{onClick:()=>o(new Date(t.getFullYear(),t.getMonth()+1,1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:">"})]}),(0,l.jsx)(s.A,{plugins:[i.A,r.Ay],initialView:"dayGridMonth",initialDate:t,editable:!0,selectable:!0,events:d,dateClick:n,eventClick:a,eventContent:e=>(0,l.jsx)(u.Ay,{content:e.event.title,children:(0,l.jsx)("div",{className:"cursor-pointer",children:e.event.title})})})]})}function g(e){let{selectedDate:t,onDateClick:n,onEventClick:a,events:d,setSelectedDate:o}=e;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("button",{onClick:()=>o(new Date(t.getFullYear(),t.getMonth(),t.getDate()-1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:"<"}),(0,l.jsx)("span",{className:"font-semibold",children:t.toDateString()}),(0,l.jsx)("button",{onClick:()=>o(new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:">"})]}),(0,l.jsx)(s.A,{plugins:[i.A,r.Ay],initialView:"dayGridDay",initialDate:t,editable:!0,selectable:!0,events:d,dateClick:n,eventClick:a,eventContent:e=>(0,l.jsx)(u.Ay,{content:e.event.title,children:(0,l.jsx)("div",{className:"cursor-pointer",children:e.event.title})})})]})}function m(){let[e,t]=(0,a.useState)([]),[n,s]=(0,a.useState)(!1),[i,r]=(0,a.useState)(null),[d,u]=(0,a.useState)(""),[m,v]=(0,a.useState)("year"),[y,p]=(0,a.useState)(new Date);(0,a.useEffect)(()=>{o().setAppElement("body")},[]);let j=e=>{r({start:e.date,allDay:!0}),u(""),s(!0)},C=e=>{r({id:e.event.id,start:e.event.start}),u(e.event.title),s(!0)},f=y.getFullYear();return y.getMonth(),(0,l.jsxs)("div",{className:"p-4",children:[(0,l.jsx)(h,{currentView:m,setView:v,downloadICS:()=>{let t=e.map(e=>({start:[e.start.getFullYear(),e.start.getMonth()+1,e.start.getDate(),0,0],title:e.title})),{error:n,value:l}=1===t.length?(0,c.lh)(t[0]):(0,c.lh)({events:t});if(!n){let e=new Blob([l],{type:"text/calendar;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="calendar.ics",t.click()}}}),"year"===m&&(0,l.jsx)(b,{year:f,events:e,handleDateClick:j,handleEventClick:C,onMonthClick:e=>{p(new Date(f,e,1)),v("month")}}),"month"===m&&(0,l.jsx)(x,{selectedDate:y,setSelectedDate:p,onDateClick:j,onEventClick:C,events:e}),"day"===m&&(0,l.jsx)(g,{selectedDate:y,setSelectedDate:p,onDateClick:j,onEventClick:C,events:e}),(0,l.jsxs)(o(),{isOpen:n,onRequestClose:()=>s(!1),className:"bg-white rounded p-6 max-w-md mx-auto mt-20 shadow-lg outline-none z-50 relative",overlayClassName:"fixed inset-0 bg-black/50 flex justify-center items-start z-40",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold mb-4",children:(null==i?void 0:i.id)?"Edit Event":"Add Event"}),(0,l.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),placeholder:"Event Title",className:"w-full border px-3 py-2 rounded mb-4"}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,l.jsx)("button",{className:"px-4 py-2 rounded bg-gray-300 hover:bg-gray-400",onClick:()=>s(!1),children:"Cancel"}),(0,l.jsx)("button",{className:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:()=>{(null==i?void 0:i.id)?t(e.map(e=>e.id===i.id?{...e,title:d}:e)):t([...e,{id:Date.now(),title:d,start:i.start,allDay:!0}]),s(!1),r(null),u("")},children:"Save"})]})]})]})}n(9154)},9823:(e,t,n)=>{Promise.resolve().then(n.bind(n,473))}},e=>{e.O(0,[645,18,968,441,255,358],()=>e(e.s=9823)),_N_E=e.O()}]);