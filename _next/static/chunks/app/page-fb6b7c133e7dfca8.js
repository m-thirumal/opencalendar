(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{936:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>O});var n=a(5155),r=a(2115),i=a(6385),s=a(2411),l=a(7081),o=a(560),d=a.n(o),c=a(9233),u=a(3022);a(9154);var g=a(748),x=a(1220),v=a(2821),h=a(5889);function m(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,h.QP)((0,v.$)(t))}function p(e){let{...t}=e;return(0,n.jsx)(g.bL,{"data-slot":"dialog",...t})}function b(e){let{...t}=e;return(0,n.jsx)(g.ZL,{"data-slot":"dialog-portal",...t})}function f(e){let{className:t,...a}=e;return(0,n.jsx)(g.hJ,{"data-slot":"dialog-overlay",className:m("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...a})}function j(e){let{className:t,children:a,showCloseButton:r=!0,...i}=e;return(0,n.jsxs)(b,{"data-slot":"dialog-portal",children:[(0,n.jsx)(f,{}),(0,n.jsxs)(g.UC,{"data-slot":"dialog-content",className:m("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...i,children:[a,r&&(0,n.jsxs)(g.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,n.jsx)(x.A,{}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function y(e){let{className:t,...a}=e;return(0,n.jsx)("div",{"data-slot":"dialog-header",className:m("flex flex-col gap-2 text-center sm:text-left",t),...a})}function C(e){let{className:t,...a}=e;return(0,n.jsx)(g.hE,{"data-slot":"dialog-title",className:m("text-lg leading-none font-semibold",t),...a})}function k(e){let{className:t,type:a,...r}=e;return(0,n.jsx)("input",{type:a,"data-slot":"input",className:m("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}function w(e){let{className:t,...a}=e;return(0,n.jsx)("textarea",{"data-slot":"textarea",className:m("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...a})}var N=a(2467);let D=(0,a(3101).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function S(e){let{className:t,variant:a,size:r,asChild:i=!1,...s}=e,l=i?N.DX:"button";return(0,n.jsx)(l,{"data-slot":"button",className:m(D({variant:a,size:r,className:t})),...s})}var E=a(489);function A(e){let{className:t,...a}=e;return(0,n.jsx)(E.b,{"data-slot":"label",className:m("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}function z(e){let{open:t,onClose:a,onSave:i,defaultValues:s}=e,[l,o]=(0,r.useState)(s||{summary:"",description:"",location:"",start:"",end:"",organizer:"",attendees:"",status:"CONFIRMED",categories:"",priority:"5",url:""}),d=e=>{o({...l,[e.target.name]:e.target.value})};return(0,n.jsx)(p,{open:t,onOpenChange:a,children:(0,n.jsxs)(j,{className:"max-w-lg",children:[(0,n.jsx)(y,{children:(0,n.jsx)(C,{children:"Add / Edit Event"})}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsx)(A,{children:"Title"}),(0,n.jsx)(k,{name:"summary",value:l.summary,onChange:d}),(0,n.jsx)(A,{children:"Description"}),(0,n.jsx)(w,{name:"description",value:l.description,onChange:d}),(0,n.jsx)(A,{children:"Location"}),(0,n.jsx)(k,{name:"location",value:l.location,onChange:d}),(0,n.jsx)(A,{children:"Start"}),(0,n.jsx)(k,{type:"datetime-local",name:"start",value:l.start,onChange:d}),(0,n.jsx)(A,{children:"End"}),(0,n.jsx)(k,{type:"datetime-local",name:"end",value:l.end,onChange:d}),(0,n.jsx)(A,{children:"Organizer (email)"}),(0,n.jsx)(k,{name:"organizer",value:l.organizer,onChange:d}),(0,n.jsx)(A,{children:"Attendees (comma-separated emails)"}),(0,n.jsx)(k,{name:"attendees",value:l.attendees,onChange:d}),(0,n.jsx)(A,{children:"Status"}),(0,n.jsxs)("select",{name:"status",value:l.status,onChange:d,className:"w-full border rounded p-2",children:[(0,n.jsx)("option",{value:"CONFIRMED",children:"Confirmed"}),(0,n.jsx)("option",{value:"TENTATIVE",children:"Tentative"}),(0,n.jsx)("option",{value:"CANCELLED",children:"Cancelled"})]}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,n.jsx)(S,{variant:"outline",onClick:a,children:"Cancel"}),(0,n.jsx)(S,{onClick:()=>i(l),children:"Save"})]})]})]})})}function M(e){let{currentView:t,setView:a,downloadICS:r}=e;return(0,n.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,n.jsx)("button",{onClick:()=>a("year"),className:"px-3 py-1 border rounded ".concat("year"===t?"bg-gray-200":""),children:"Year"}),(0,n.jsx)("button",{onClick:()=>a("month"),className:"px-3 py-1 border rounded ".concat("month"===t?"bg-gray-200":""),children:"Month"}),(0,n.jsx)("button",{onClick:()=>a("day"),className:"px-3 py-1 border rounded ".concat("day"===t?"bg-gray-200":""),children:"Day"}),(0,n.jsx)("button",{onClick:r,className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Download ICS"})]})}function _(e){let{year:t,events:a=[],handleDateClick:r,handleEventClick:o,onMonthClick:d}=e,c=a.filter(e=>e.start instanceof Date);return(0,n.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[...Array(12)].map((e,a)=>(0,n.jsxs)("div",{className:"border rounded p-2 cursor-pointer hover:bg-gray-100",onClick:()=>d&&d(a),children:[(0,n.jsx)("h3",{className:"text-center font-semibold mb-2",children:new Date(0,a).toLocaleString("default",{month:"long"})}),(0,n.jsx)(i.A,{plugins:[s.A,l.Ay],initialView:"dayGridMonth",initialDate:new Date(t,a,1),editable:!0,selectable:!0,events:c,dateClick:r,eventClick:o,eventContent:e=>(0,n.jsx)(u.Ay,{content:e.event.title,children:(0,n.jsx)("div",{className:"cursor-pointer text-sm truncate",children:e.event.title})}),height:"auto",headerToolbar:!1})]},a))})}function F(e){let{selectedDate:t,onDateClick:a,onEventClick:r,events:o,setSelectedDate:d}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,n.jsx)("button",{onClick:()=>d(new Date(t.getFullYear(),t.getMonth()-1,1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:"<"}),(0,n.jsx)("span",{className:"font-semibold",children:t.toLocaleString("default",{month:"long",year:"numeric"})}),(0,n.jsx)("button",{onClick:()=>d(new Date(t.getFullYear(),t.getMonth()+1,1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:">"})]}),(0,n.jsx)(i.A,{plugins:[s.A,l.Ay],initialView:"dayGridMonth",initialDate:t,editable:!0,selectable:!0,events:o,dateClick:a,eventClick:r,eventContent:e=>(0,n.jsx)("div",{className:"cursor-pointer text-sm truncate",children:e.event.title})})]})}function L(e){let{selectedDate:t,onDateClick:a,onEventClick:r,events:o,setSelectedDate:d}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,n.jsx)("button",{onClick:()=>d(new Date(t.getFullYear(),t.getMonth(),t.getDate()-1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:"<"}),(0,n.jsx)("span",{className:"font-semibold",children:t.toDateString()}),(0,n.jsx)("button",{onClick:()=>d(new Date(t.getFullYear(),t.getMonth(),t.getDate()+1)),className:"px-2 py-1 border rounded hover:bg-gray-200",children:">"})]}),(0,n.jsx)(i.A,{plugins:[s.A,l.Ay],initialView:"dayGridDay",initialDate:t,editable:!0,selectable:!0,events:o,dateClick:a,eventClick:r,eventContent:e=>(0,n.jsx)(u.Ay,{content:e.event.title,children:(0,n.jsx)("div",{className:"cursor-pointer",children:e.event.title})})})]})}function O(){let[e,t]=(0,r.useState)([]),[a,i]=(0,r.useState)(!1),[s,l]=(0,r.useState)(null),[o,u]=(0,r.useState)(""),[g,x]=(0,r.useState)("year"),[v,h]=(0,r.useState)(new Date),[m,p]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("calendarEvents");e&&t(JSON.parse(e))},[]),(0,r.useEffect)(()=>{localStorage.setItem("calendarEvents",JSON.stringify(e))},[e]),(0,r.useEffect)(()=>{d().setAppElement("body")},[]);let b=e=>{l({start:e.date,allDay:!0}),u(""),i(!0)},f=e=>{l({id:e.event.id,start:e.event.start}),u(e.event.title),i(!0)},j=v.getFullYear();return v.getMonth(),(0,n.jsxs)("div",{className:"p-4",children:[(0,n.jsx)(M,{currentView:g,setView:x,downloadICS:()=>{let t=e.map(e=>({start:[e.start.getFullYear(),e.start.getMonth()+1,e.start.getDate(),0,0],title:e.title})),{error:a,value:n}=(0,c.q2)(t);if(!a&&n){let e=new Blob([n],{type:"text/calendar;charset=utf-8"}),t=document.createElement("a");t.href=URL.createObjectURL(e),t.download="calendar.ics",t.click()}else a&&console.error("ICS generation failed:",a)}}),"year"===g&&(0,n.jsx)(_,{year:j,events:e,handleDateClick:b,handleEventClick:f,onMonthClick:e=>{h(new Date(j,e,1)),x("month")}}),"month"===g&&(0,n.jsx)(F,{selectedDate:v,setSelectedDate:h,onDateClick:b,onEventClick:f,events:e}),"day"===g&&(0,n.jsx)(L,{selectedDate:v,setSelectedDate:h,onDateClick:b,onEventClick:f,events:e}),(0,n.jsx)(z,{open:m,onClose:()=>p(!1),onSave:()=>{(null==s?void 0:s.id)?t(e.map(e=>e.id===s.id?{...e,title:o}:e)):t([...e,{id:Date.now(),title:o,start:s.start,allDay:!0}]),i(!1),l(null),u("")}})]})}},9823:(e,t,a)=>{Promise.resolve().then(a.bind(a,936))}},e=>{e.O(0,[645,18,392,441,255,358],()=>e(e.s=9823)),_N_E=e.O()}]);